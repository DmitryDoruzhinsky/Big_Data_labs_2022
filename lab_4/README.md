# Лабораторная работа №4 (Введение в ZooKeeper)
В лабораторной работе для реализации на Python была выбрана схожая с ZooKeeper библиотека, а именно [kazoo](https://kazoo.readthedocs.io/en/latest/)
## Задания: 
1. Решите проблему обедающих философов (каждый философ - отдельный процесс в системе)
2. Реализуйте двуфазный коммит протокол для high-available регистра (каждый регистр - отдельный процесс в системе)

Для запуска лабораторной работы проделываем следующие шаги:
1. Запускаем докер-контейнер следующей командой:
```
docker-compose up --build -d
```
примечание: необходимо запустить приложение Docker и далее подождать загрузки необходимых файлов
3. Подготовить среду к работе следующими командами вводимымы в Docker:
```
apt-get update && apt-get install -y python3-distutils python3-apt
```
```
wget https://bootstrap.pypa.io/pip/3.6/get-pip.py
```
```
python3 get-pip.py
```
```
pip install jupyter
```
```
pip install kazoo
```
4. Подключаемся к jupyter notebook следующией командой:
```
jupyter-notebook --ip=0.0.0.0 --port=50001 --allow-root --no-browser
```
5. Заходим по сгенерированному адресу jupyter и производим выполнения заданий лабораторной работы, а именно:</br>

## Задание 1
1. Создаем класс *Philosopher*, в котором содержится описание действий каждого философа(внутри находятся данные ID данного философа и ID соседних, информация о соседних вилках и "путь" до вилок);
![image](https://user-images.githubusercontent.com/83270014/209813548-9e93c24b-b677-4287-88c6-32f38237f03e.png)

2. Лишь один философ может использовать вилки, поэтому необходимо заблокировать стол(общий процесс); 
![image](https://user-images.githubusercontent.com/83270014/209813916-cf033394-6a0c-49f5-aa82-33023eae8aab.png)


3. В течении времени *eat_seconds* будет эмулироваться программа для каждого философа;
![image](https://user-images.githubusercontent.com/83270014/209814137-cb8ca397-848c-4b99-aa6e-9391a2a27ef0.png)


4. Заблокируем вилки если философ поел не больше, чем его соседи и вилки никто не использует 
![image](https://user-images.githubusercontent.com/83270014/209814195-52be2c13-b8e8-487a-adb9-1ba959c07732.png)


5. Использование вилки озночет, что философ есть. После того, как он поест вилки будут свободными, тогда увеличиваем счетчик его еды. Если философ не ест, значит думает.
![image](https://user-images.githubusercontent.com/83270014/209814272-58f9fb43-2bdf-4ce9-9bbc-46c4c02d0b5c.png)

6. Создаем необходимые процессы и задаем константы, также создаем list и записываем результаты.
![image](https://user-images.githubusercontent.com/83270014/209814688-554d70b0-c956-482c-bd2d-54ecd0c0750d.png)


## Задание 2
